{{ define "body-class" }}template-tags{{ end }}

{{ define "main" }}
<article>
    <div class="tags-page">
        <!-- å¤´éƒ¨ï¼šé€æ˜èƒŒæ™¯ + å¼ºæ–‡å­—é˜´å½± -->
        <header class="page-header-transparent">
            <h1>ğŸ·ï¸ æ ‡ç­¾äº‘</h1>
            {{ $total := len .Site.RegularPages }}
            {{ $realCount := sub $total 4 }}
            <p class="page-description">
                æ±‡èš <strong>{{ len .Site.Taxonomies.tags }}</strong> ä¸ªæŠ€æœ¯è§†ç‚¹ï¼Œ
                å…³è” <strong>{{ if gt $realCount 0 }}{{ $realCount }}{{ else }}0{{ end }}</strong> ç¯‡å†…å®¹
            </p>
        </header>

        {{ if gt (len .Site.Taxonomies.tags) 0 }}
        <div class="tag-cloud-container">
            {{ range $name, $taxonomy := .Site.Taxonomies.tags }}
            {{ with $.Site.GetPage (printf "/tags/%s" $name) }}

            {{ $len := len .Title }}
            {{ $colorClass := printf "tag-color-%d" (mod $len 6) }}

            <a href="{{ .Permalink }}" class="tag-chip {{ $colorClass }}">
                <span class="tag-text">{{ .Title }}</span>
                <span class="tag-num">{{ len $taxonomy }}</span>
            </a>
            {{ end }}
            {{ end }}
        </div>
        {{ else }}
        <div class="empty-state"><p>æš‚æ— æ ‡ç­¾</p></div>
        {{ end }}
    </div>
</article>

<style>
/* é¡µé¢å®¹å™¨ */
.tags-page {
    width: 100%;
    max-width: 1600px;
    margin: 0 auto;
    padding: 40px 20px;
}

/* å¤´éƒ¨ */
.page-header-transparent {
    text-align: center;
    margin-bottom: 60px;
}
.page-header-transparent h1 {
    font-size: 3rem;
    margin-bottom: 15px;
    font-weight: 800;
    color: #ffffff;
    text-shadow: 2px 2px 0 rgba(0,0,0,0.6), 0 0 15px rgba(0,0,0,0.8);
}
.page-description {
    font-size: 1.3rem;
    color: #ffffff;
    font-weight: 600;
    text-shadow: 1px 1px 0 rgba(0,0,0,0.6), 0 0 10px rgba(0,0,0,0.8);
}
.page-description strong {
    color: #65bbee;
    font-size: 1.6rem;
    margin: 0 6px;
}

/* æ ‡ç­¾å®¹å™¨ */
.tag-cloud-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 25px;
    background: transparent;
}

/* ================= æ ‡ç­¾ä¸»ä½“ï¼ˆé€æ˜åº¦ â†‘ï¼‰ ================= */
.tag-chip {
    display: inline-flex;
    align-items: center;
    padding: 12px 28px;
    border-radius: 50px;
    text-decoration: none;
    position: relative;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4,0,0.2,1);

    /* â­ é€æ˜åº¦ */
    background: rgba(0, 0, 0, 0.45) !important;

    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);

    border: 1px solid rgba(255,255,255,0.35);
    box-shadow: 0 6px 18px rgba(0,0,0,0.3);
}

/* æ ‡ç­¾æ–‡å­— */
.tag-text {
    font-size: 1.2rem;
    font-weight: 700;
    margin-right: 12px;
    color: #ffffff;
    text-shadow: 0 2px 4px rgba(0,0,0,0.85);
    letter-spacing: 0.5px;
}

/* æ•°å­—è§’æ ‡ */
.tag-num {
    background: rgba(255,255,255,0.35);
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 1rem;
    font-weight: 800;
    color: #ffffff;
    text-shadow: 0 1px 2px rgba(0,0,0,0.6);
}

/* Hover æ•ˆæœ */
.tag-chip:hover {
    transform: translateY(-5px) scale(1.08);
    box-shadow: 0 12px 30px rgba(0,0,0,0.45);
    border-color: rgba(255,255,255,0.9);
    background: rgba(0, 0, 0, 0.65) !important;
}
.tag-chip:hover .tag-num {
    background: rgba(255,255,255,0.45);
}

/* Hover å½©è‰² */
.tag-color-0:hover { background: rgba(255,107,107,0.85) !important; }
.tag-color-1:hover { background: rgba(78,205,196,0.85) !important; }
.tag-color-2:hover { background: rgba(69,183,209,0.85) !important; }
.tag-color-3:hover { background: rgba(255,160,122,0.85) !important; }
.tag-color-4:hover { background: rgba(150,206,180,0.85) !important; }
.tag-color-5:hover { background: rgba(212,165,165,0.85) !important; }

/* æ‰‹æœºç«¯ */
@media (max-width: 768px) {
    .tag-chip { padding: 10px 20px; }
    .tag-text { font-size: 1rem; }
    .tag-cloud-container { gap: 15px; }
}
</style>
{{ end }}
