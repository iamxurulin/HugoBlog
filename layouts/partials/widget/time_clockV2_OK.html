<div class='clock-wrapper'>
  <div class='clock-border'>
    <div class='clock'>
      <!-- 刻度线 -->
      <ul class='minute-marks'>
        <li class='five'></li><li></li><li></li><li></li><li></li>
        <li class='five'></li><li></li><li></li><li></li><li></li>
        <li class='five'></li><li></li><li></li><li></li><li></li>
        <li class='five'></li><li></li><li></li><li></li><li></li>
        <li class='five'></li><li></li><li></li><li></li><li></li>
        <li class='five'></li><li></li><li></li><li></li><li></li>
      </ul>
      <!-- 时针 -->
      <div class='hour' id='js-hour'>
        <div class='hand'></div>
      </div>
      <!-- 分针 -->
      <div class='minute' id='js-minute'>
        <div class='hand'></div>
      </div>
      <!-- 秒针 -->
      <div class='second' id='js-second'>
        <div class='hand'></div>
      </div>
    </div>
  </div>
</div>

<script>
  (function() {
    function updateClock() {
      const now = new Date();
      const h = now.getHours();
      const m = now.getMinutes();
      const s = now.getSeconds();
      const ms = now.getMilliseconds();

      // 计算角度
      const hDeg = (h % 12) * 30 + m * 0.5;
      const mDeg = m * 6 + s * 0.1;
      // 秒针增加毫秒偏移，让移动更顺滑（可选，如果想一秒一跳，去掉 ms 部分）
      const sDeg = s * 6 + (ms * 0.006);

      const hEl = document.getElementById('js-hour');
      const mEl = document.getElementById('js-minute');
      const sEl = document.getElementById('js-second');

      // 使用 setProperty 确保高优先级
      if (hEl) hEl.style.setProperty('transform', `rotate(${hDeg}deg)`, 'important');
      if (mEl) mEl.style.setProperty('transform', `rotate(${mDeg}deg)`, 'important');
      if (sEl) sEl.style.setProperty('transform', `rotate(${sDeg}deg)`, 'important');
    }

    // 立即执行并开启定时器
    updateClock();
    setInterval(updateClock, 100); // 100ms刷新一次，秒针走得更丝滑
  })();
</script>

<style>
/* 容器基础样式 */
.clock-wrapper {
  position: relative;
  right: 30px;
  width: 460px;
  height: 460px;
  zoom: 0.4;
  overflow: hidden;
}

/* 外边框 */
.clock-border {
  position: absolute;
  margin: auto;
  width: 460px;
  height: 460px;
  border-width: 18px;
  border-color: transparent #d2d8df #d2d8df;
  border-style: solid;
  border-radius: 50%;
  transform: rotate(45deg);
  animation: rotate-clock-border 0.69s cubic-bezier(0.645, -0.18, 0.605, 1.36) 0.69s 1 forwards;
}

/* 钟面 */
.clock {
  position: absolute;
  top: 0; bottom: 0; left: 0; right: 0;
  margin: auto;
  width: 400px;
  height: 400px;
  background-color: #262c33;
  border: 18px solid #373f4a;
  border-radius: 50%;
  transform: rotate(-45deg);
  animation: counterrotate-clock 0.69s cubic-bezier(0.645, -0.18, 0.605, 1.36) 0.69s 1 forwards;
}

/* 指针容器 - 移除了 CSS 原有的旋转动画，完全由 JS 控制 */
.hour, .minute, .second {
  position: absolute;
  top: 0; bottom: 0; left: 0; right: 0;
  margin: auto;
  transition: transform 0.2s cubic-bezier(0.4, 2.08, 0.55, 0.44); /* 让指针移动有弹性感 */
}

/* --- 时针 --- */
.hour .hand:before {
  content: ''; position: absolute; bottom: 0; left: 0; right: 0; margin: auto; top: 0;
  width: 16px; height: 0; border-radius: 2px 2px 0 0; background-color: #fff;
  transform-origin: center 100%;
  animation: hour-grow-before 0.4s cubic-bezier(0.69, -0.06, 0.49, 1.4) 1.35s 1 forwards;
}
.hour .hand:after {
  content: ''; position: absolute; bottom: 0; left: 0; right: 0; margin: auto; top: 0;
  border-bottom: 16px solid #ffffff; border-left: 8px solid transparent; border-right: 8px solid transparent;
  width: 0; height: 0; transform-origin: center 100%;
  animation: hour-grow-after 0.4s cubic-bezier(0.69, -0.06, 0.49, 1.4) 1.35s 1 forwards;
}

/* --- 分针 --- */
.minute .hand:before {
  content: ''; position: absolute; bottom: 0; left: 0; right: 0; margin: auto; top: 0;
  width: 12px; height: 0; border-radius: 2px 2px 0 0; background-color: #fff;
  transform-origin: center 100%;
  animation: minute-grow-before 0.4s cubic-bezier(0.69, -0.06, 0.49, 1.4) 1.6s 1 forwards;
}
.minute .hand:after {
  content: ''; position: absolute; bottom: 0; left: 0; right: 0; margin: auto; top: 0;
  border-bottom: 12px solid #ffffff; border-left: 6px solid transparent; border-right: 6px solid transparent;
  width: 0; height: 0; transform-origin: center 100%;
  animation: minute-grow-after 0.4s cubic-bezier(0.69, -0.06, 0.49, 1.4) 1.6s 1 forwards;
}

/* --- 秒针 --- */
.second .hand:before {
  content: ''; position: absolute; bottom: 0; left: 0; right: 0; margin: auto; top: 0;
  width: 8px; height: 0; background-color: #f16b41; border-radius: 8px;
  transform-origin: center 180px;
  animation: second-grow 1.6s cubic-bezier(1, 0, 0, 1) 1.45s 1 forwards;
}
.second .hand:after {
  content: ''; position: absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto;
  width: 32px; height: 32px; border-radius: 32px; background-color: #f16b41;
}

/* 关键帧定义 */
@keyframes rotate-clock-border { 0% { transform: rotate(45deg); } 100% { transform: rotate(315deg); } }
@keyframes counterrotate-clock { 0% { transform: rotate(-45deg); } 100% { transform: rotate(-315deg); } }
@keyframes hour-grow-before { 0% { height: 0; top: 0; } 100% { height: 120px; top: -120px; } }
@keyframes hour-grow-after { 0% { top: 0; } 100% { top: -254px; } }
@keyframes minute-grow-before { 0% { height: 0; top: 0; } 100% { height: 168px; top: -168px; } }
@keyframes minute-grow-after { 0% { top: 0; } 100% { top: -346px; } }
@keyframes second-grow { from { top: 0; height: 0; } 100% { top: -120px; height: 240px; } }
@keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }

/* 刻度样式 */
.minute-marks { display: inline-block; padding: 0; margin: 0; list-style-type: none; width: 0; height: 0; }
.minute-marks li { position: absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto; width: 200px; height: 200px; }
.minute-marks li:before, .minute-marks li:after {
  content: ''; position: absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto;
  width: 0; height: 0; border-color: #d4d5d6; border-width: 4px; border-style: solid; border-radius: 4px;
  opacity: 0; animation: fade-in 0.1s ease 0s 1 forwards;
}
.minute-marks li:before { top: -380px; }
.minute-marks li:after { bottom: -380px; }
.minute-marks li.five:before, .minute-marks li.five:after { height: 20px; }
.minute-marks li.five:before { top: -360px; }
.minute-marks li.five:after { bottom: -360px; }

/* 循环刻度旋转 */
.minute-marks li:nth-child(1) { transform: rotate(0deg); }
.minute-marks li:nth-child(2) { transform: rotate(6deg); }
.minute-marks li:nth-child(3) { transform: rotate(12deg); }
.minute-marks li:nth-child(4) { transform: rotate(18deg); }
.minute-marks li:nth-child(5) { transform: rotate(24deg); }
.minute-marks li:nth-child(6) { transform: rotate(30deg); }
.minute-marks li:nth-child(7) { transform: rotate(36deg); }
.minute-marks li:nth-child(8) { transform: rotate(42deg); }
.minute-marks li:nth-child(9) { transform: rotate(48deg); }
.minute-marks li:nth-child(10) { transform: rotate(54deg); }
.minute-marks li:nth-child(11) { transform: rotate(60deg); }
.minute-marks li:nth-child(12) { transform: rotate(66deg); }
.minute-marks li:nth-child(13) { transform: rotate(72deg); }
.minute-marks li:nth-child(14) { transform: rotate(78deg); }
.minute-marks li:nth-child(15) { transform: rotate(84deg); }
.minute-marks li:nth-child(16) { transform: rotate(90deg); }
.minute-marks li:nth-child(17) { transform: rotate(96deg); }
.minute-marks li:nth-child(18) { transform: rotate(102deg); }
.minute-marks li:nth-child(19) { transform: rotate(108deg); }
.minute-marks li:nth-child(20) { transform: rotate(114deg); }
.minute-marks li:nth-child(21) { transform: rotate(120deg); }
.minute-marks li:nth-child(22) { transform: rotate(126deg); }
.minute-marks li:nth-child(23) { transform: rotate(132deg); }
.minute-marks li:nth-child(24) { transform: rotate(138deg); }
.minute-marks li:nth-child(25) { transform: rotate(144deg); }
.minute-marks li:nth-child(26) { transform: rotate(150deg); }
.minute-marks li:nth-child(27) { transform: rotate(156deg); }
.minute-marks li:nth-child(28) { transform: rotate(162deg); }
.minute-marks li:nth-child(29) { transform: rotate(168deg); }
.minute-marks li:nth-child(30) { transform: rotate(174deg); }
/* 这里的 animation-delay 保持默认即可，为了代码简洁我移除了重复的延迟定义 */
</style>