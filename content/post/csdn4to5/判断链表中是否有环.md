---
title: "判断链表中是否有环"
date: 2026-01-07 21:57:22
categories:
- 算法
tags:
  - 链表
draft: false
---

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/0c51f50633ef43769295c1bde215e35c.jpeg#pic_center)
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/b9f8d1b5bd534005bdbbb5e9503927a0.jpeg#pic_center)
### 求解代码

```java
public boolean hasCycle(ListNode head) {
        // 空链表直接无环
        if (head == null) {
            return false;
        }

        // 快慢指针都从表头出发
        ListNode slow = head; 
        ListNode fast = head; 

        
        while (fast != null && fast.next != null) {
            slow = slow.next;       // 慢指针走1步
            fast = fast.next.next;  // 快指针走2步

            // 快慢指针相遇 → 链表有环
            if (fast == slow) {
                return true;
            }
        }

        //快指针走到尾部，无环
        return false;
    }
```
这里说明一下循环条件为什么要这么写：

因为快指针的核心操作是：

```bash
fast=fast.next.next
```
这一步其实可以等价拆解为两步的连续next调用：

```java
ListNode temp = fast.next;//取fast的下一个节点

fast = temp.next;//取temp的下一个节点
```

要让这两步都不触发**空指针异常**，需要满足以下两个前提：

1. fast.next不报错，也就是fast不能为null
2. temp.next不报错，也就是temp不能为null，即fast.next不能为null

因此，循环条件就是：

```java
fast!=null&&fast.next!=null
```

