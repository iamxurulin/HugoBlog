---
title: "在RabbitMQ中，怎么确保消息不会丢失？"
date: 2026-01-08 17:15:44

tags:
- 消息队列
draft: false
---

为了确保消息不会丢失，可以从以下3个方面解决：

1.在创建队列的时候设置durable为true，发布消息的时候设置delivery为2，从而确保队列和消息都是**持久**的。

这样，就算是RabbitMQ服务器重启也不会造成消息的丢失。

2.开启**发布确认模式**，这样的话，生产者会等待服务器的确认响应，确保消息已经成功存储。

3.使用明确的**消费者确认**机制，当消费者处理完消息之后，向RabbitMQ发送确认，只有在RabbitMQ收到消费者发来的确认之后才会将消息从队列中删除。


