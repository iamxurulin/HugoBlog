---
title: "回溯-没有重复项数字的全排列"
date: 2026-01-18 04:15:00
categories:
- 算法
tags:
  - 搜索
draft: false
---

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/2a2b310b37af4e678e52f197106fa9d5.jpeg#pic_center)
### 求解代码

```java
 ArrayList<ArrayList<Integer>> ans = new ArrayList<>();

    public ArrayList<ArrayList<Integer>> permute (int[] num) {
        ArrayList<Integer> track = new ArrayList<>();
        boolean[] used = new boolean[num.length];
        backtrack(num,track,used);
        return ans;

    }

    private void backtrack(int[] num,ArrayList<Integer> track,boolean[] used){
        if(track.size()==num.length){
            ans.add(new ArrayList<>(track));
            return;
        }

        for(int i=0;i<num.length;i++){
            if(used[i]){
                continue;
            }
            track.add(num[i]);
            used[i]=true;
            backtrack(num,track,used);
            track.remove(track.size()-1);
            used[i]=false;
        }
    }
```

### 小贴士
回溯的核心是**状态回退**，也就是递归深入时修改的状态（比如本题的`track`、`used`），递归返回时必须恢复原状，只有这样才能保证下一轮循环的选择是干净的。
