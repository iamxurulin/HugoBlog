---
title: "MySQL中如何进行SQL调优"
date: 2026-01-19 17:23:03
categories:
- 八股
tags:
  - 数据库
draft: false
---

SQL调优的核心思路是**减少磁盘I/O**和**避免无效计算**。

主要就是先通过MySQL的慢查询日志定位慢SQL，再利用EXPLAIN分析执行计划，最后再进行针对性优化。

优化的手段主要有这几大类，分别是**索引层面的优化**，**SQL写法层面的优化**以及**架构层面的优化**。

### 索引层面的优化

- 合理设计联合索引，利用覆盖索引来避免回表。

- 注意最左匹配原则。

- 避免在索引列上做函数运算、隐式类型转换。
- 
- 及时删除荣誉索引和重复索引。

### SQL写法层面的优化
- 为了减少网络传输和内存占用，只对必要字段进行查询，不使用`select *`
- 为了避免全表扫描，避免`%LIKE`这种前缀模糊查询
- 连表查询时检查**关联字段**的字符集和排序规则是否一致，不一致会导致索引失效


### 架构层面的优化

- 对于访问频率高但是变化少的数据使用Redis缓存
- 对单表数据量超过2000万行或物理文件超过2G的大表进行分库分表
- 搭建主从数据库集群，进行读写分离，让从库分担一些查询的压力

