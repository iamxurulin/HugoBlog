<!-- 1. å®¹å™¨ -->
<div id="giscus-container" class="giscus-container"></div>

<script>
    (function() {
        function reloadGiscus() {
            const container = document.getElementById('giscus-container');
            if (!container) return;

            console.log('ğŸš€ [Giscus] æ­£åœ¨é‡è½½ (è‡ªå®šä¹‰åŠé€æ˜èƒŒæ™¯)...');

            container.innerHTML = '';

            const script = document.createElement('script');
            script.src = "https://giscus.app/client.js";
            
            // --- é…ç½® ---
            script.setAttribute("data-repo", "iamxurulin/iamxurulin.github.io");
            script.setAttribute("data-repo-id", "R_kgDOQ4sEwg");
            script.setAttribute("data-category", "Announcements");
            script.setAttribute("data-category-id", "DIC_kwDOQ4sEws4C1Yw9");
            script.setAttribute("data-mapping", "title");
            script.setAttribute("data-strict", "0");
            script.setAttribute("data-reactions-enabled", "1");
            script.setAttribute("data-emit-metadata", "0");
            script.setAttribute("data-input-position", "top");
            script.setAttribute("data-lang", "zh-CN");
            script.setAttribute("crossorigin", "anonymous");
            script.async = true;

            // â˜…â˜…â˜… æ ¸å¿ƒ1ï¼šå¼ºåˆ¶ä½¿ç”¨å…¨é€æ˜ä¸»é¢˜ï¼ŒèƒŒæ™¯ç”± CSS æ¥ç®¡ â˜…â˜…â˜…
            script.setAttribute("data-theme", "transparent_dark");

            container.appendChild(script);
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', reloadGiscus);
        } else {
            reloadGiscus();
        }

        document.addEventListener('pjax:complete', function() {
            setTimeout(reloadGiscus, 50);
        });
    })();
</script>

<style>
    /* â˜…â˜…â˜… æ ¸å¿ƒ2ï¼šè‡ªå®šä¹‰åŠé€æ˜é»‘è‰²èƒŒæ™¯ â˜…â˜…â˜… */
    #giscus-container {
        min-height: 150px;
        width: 100%;
        margin-top: 2rem;
        
        /* è¿™é‡Œçš„ 0.6 å°±æ˜¯é€æ˜åº¦ï¼š
           0.4 = æ¯”è¾ƒé€
           0.6 = é€‚ä¸­ (å½“å‰è®¾ç½®)
           0.8 = å¾ˆé»‘ï¼Œä¸å¤ªé€
           ä½ å¯ä»¥æ ¹æ®å–œå¥½å¾®è°ƒè¿™ä¸ªæ•°å­—
        */
        background: rgba(30, 30, 30, 0.8) !important;
        
        /* åŠ ä¸€ç‚¹ç£¨ç ‚æ•ˆæœ */
        /* backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px); */
        
        /* åœ†è§’å’Œå†…è¾¹è·ï¼Œè®©å®ƒåƒä¸€ä¸ªå¡ç‰‡ */
        border-radius: 15px;
        padding: 20px;
        box-sizing: border-box;
        
        /* å¾®å¾®çš„è¾¹æ¡†å’Œé˜´å½±ï¼Œå¢åŠ è´¨æ„Ÿ */
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 4px 15px rgba(0,0,0, 0.2);
    }
</style>